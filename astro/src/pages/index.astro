---
import '../styles.scss';
import Preloader from '../components/Preloader.astro';
import Header from '../components/Header.astro';
---
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Three.js Tunnel Game</title>
    <link rel="icon" href="/assets/models/ship-flames%20copy.png">
  </head>
  <body>
    <Preloader pct={0} />
    <Header health={10} score={0} />
    <div class="game-over" style="position:fixed; inset:0; display:none; align-items:center; flex-direction:column; justify-content:center; z-index:2000; background:rgba(0,0,0,0.6);">
      <h2 style="color:#ff4d4d; font-size:8rem; text-shadow:0 0 12px rgba(255,0,0,0.7); margin-bottom:24px;">Game Over</h2>
      <div style="display:flex; gap:16px;">
        <button class="btn-play-again" style="padding:10px 18px; font-size:18px;">Play Again</button>
        <button class="btn-quit" style="padding:10px 18px; font-size:18px;">Quit</button>
      </div>
    </div>
    <div class="game-canvas"></div>
    <div class="container">
      <h1 class="title">Lucas Revenge
        <div class="aurora">
          <div class="aurora__item"></div>
          <div class="aurora__item"></div>
          <div class="aurora__item"></div>
          <div class="aurora__item"></div>
        </div>
      </h1>
      <p>Ride the beat. Rule the tunnel.</p>
      <button class="start-button">Start</button>
    </div>
    <div class="countdown">
      <h1>5</h1>
    </div>
    <div class="level-up" style="display:none;">
      <h2>Stage 2</h2>
    </div>
    <section class="section2">
      <h2>Stage 3</h2>
    </section>

    <script type="module">
      // Use npm-based imports instead of import maps
      import '/src/scripts/index.js';
    </script>
  </body>
</html>
